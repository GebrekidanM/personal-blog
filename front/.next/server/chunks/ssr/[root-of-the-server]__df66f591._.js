module.exports=[14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},50944,(a,b,c)=>{b.exports=a.r(74137)},98474,a=>{"use strict";a.s(["api",()=>b]);let b="http://localhost:4000/api"},10850,a=>{"use strict";a.s(["default",()=>d]);var b=a.i(72131),c=a.i(50944);let d=()=>{let[a,d]=(0,b.useState)(!1),[e,f]=(0,b.useState)(!0),g=(0,c.useRouter)();return(0,b.useEffect)(()=>{localStorage.getItem("authToken")?d(!0):g.push("/admin/login"),f(!1)},[g]),{isAuthenticated:a,loading:e}}},23991,a=>{"use strict";a.s(["default",()=>j]);var b=a.i(87924),c=a.i(72131),d=a.i(83490),e=a.i(50944),f=a.i(10850),g=a.i(20886),h=a.i(98474),i=a.i(38246);function j(){let{isAuthenticated:a,loading:j}=(0,f.default)(),k=(0,e.useRouter)(),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("Strategic Insights"),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(!1);(0,c.useEffect)(()=>{o(l.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""))},[l]);let D=async a=>{let b=a.target.files[0];if(!b)return;let c=new FormData;c.append("image",b),C(!0),w("Uploading image...");try{let a=localStorage.getItem("authToken"),b=await d.default.post(`${h.api}/upload`,c,{headers:{"Content-Type":"multipart/form-data","x-auth-token":a}});A(b.data.imageUrl),w("Image uploaded successfully!")}catch(a){console.error("Image upload error:",a),w("Image upload failed.")}finally{C(!1)}},E=async a=>{a.preventDefault(),y(!0),w("Publishing...");try{let a=localStorage.getItem("authToken");if(!a)throw Error("Authentication error.");await d.default.post(`${h.api}/posts`,{title:l,slug:n,excerpt:p,content:r,category:t,featuredImageUrl:z},{headers:{"x-auth-token":a}}),w("Post published successfully!"),setTimeout(()=>k.push("/admin/posts"),1500)}catch(a){w(a.response?.data?.msg||"Failed to publish post.")}finally{y(!1)}};return j?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}):!1!==a||j?(0,b.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,b.jsx)(i.default,{href:"/admin/dashboard",className:"text-blue-600 hover:underline mb-4 inline-block",children:"â† Back to Dashboard"}),(0,b.jsxs)("form",{onSubmit:E,children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Create New Post"}),(0,b.jsx)("button",{type:"submit",disabled:x,className:"bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition disabled:bg-blue-300 disabled:cursor-not-allowed",children:x?"Publishing...":"Publish Post"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,b.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,b.jsx)("input",{type:"text",id:"title",value:l,onChange:a=>m(a.target.value),required:!0,className:"mt-1 block w-full text-xl p-2 border-2 border-gray-200 rounded-md outline-0"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 p-4 pb-0",children:"Content"}),(0,b.jsx)(g.default,{content:r,onContentChange:a=>s(a)})]})]}),(0,b.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[v&&(0,b.jsx)("p",{className:"text-center text-sm text-gray-600 p-4 bg-gray-100 rounded",children:v}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold border-b pb-2 mb-4",children:"Post Settings"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,b.jsxs)("select",{id:"category",value:t,onChange:a=>u(a.target.value),className:"mt-1 block w-full p-2 border-2 border-gray-200 outline-0 rounded-md",children:[(0,b.jsx)("option",{children:"Strategic Insights"}),(0,b.jsx)("option",{children:"Operational Excellence"}),(0,b.jsx)("option",{children:"Leadership & Culture"})]})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{htmlFor:"slug",className:"block text-sm font-medium text-gray-700",children:"Slug (URL)"}),(0,b.jsx)("input",{type:"text",id:"slug",value:n,readOnly:!0,className:"mt-1 block w-full p-2 border-2 border-gray-200 outline-0 rounded-md bg-gray-100"})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold border-b pb-2 mb-4",children:"Featured Image"}),(0,b.jsx)("input",{type:"file",id:"image",onChange:D,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),B&&(0,b.jsx)("p",{className:"mt-2 text-sm",children:"Uploading..."}),z&&(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)("img",{src:z,alt:"Preview",className:"w-full h-auto rounded-md"})})]})]}),(0,b.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold border-b pb-2 mb-4",children:"Excerpt"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"A short summary of the post for previews."}),(0,b.jsx)("textarea",{id:"excerpt",value:p,onChange:a=>q(a.target.value),required:!0,rows:"5",className:"mt-1 block w-full p-2 border-2 border-gray-200 outline-0 rounded-md"})]})]})]})]})]}):(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("p",{className:"text-red-600 font-bold",children:"You must be logged in to access this page."})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__df66f591._.js.map